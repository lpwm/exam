{% extends "/admin/admin_base.html" %}
{% block body %}

<div id="wrapper">

    <!-- 左侧菜单栏 -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

        <!-- 左侧菜单栏 - 标题 -->
        <a class="sidebar-brand d-flex align-items-center justify-content-center">
            <div class="sidebar-brand-text mx-3">考试管理后台</div>
        </a>

        <!-- 分割线 -->
        <hr class="sidebar-divider my-0">

        <!-- 导航菜单项目 - 状态总览 -->
        <li class="nav-item active">
            <a class="nav-link" href="#" onclick="getContent('dashboard')">
                <span>状态总览</span></a>
        </li>

        <!-- 分割线 -->
        <hr class="sidebar-divider">


        <!-- 导航菜单项目 - 单人成绩 -->
        <li class="nav-item">
            <a class="nav-link" href="#" onclick="getContent('detail')">
                <span>单人成绩</span></a>
        </li>

        <!-- 导航菜单项目 - 单人成绩 -->
        <li class="nav-item">
            <a class="nav-link" href="#" onclick="getContent('db_manage')">
                <span>考题管理</span></a>
        </li>


    </ul>
    <!-- 左侧菜单栏结束 -->

    <!-- 右侧主体层 -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- 主体层 -->
        <div id="content">

            <!-- 主体内容区域 -->
            <div class="container-fluid pt-4" id="main">
                {% include '/admin/dashboard.html' %}
            </div>
            <!-- 主体内容区域结束 -->

        </div>
        <!-- 主体层结束 -->

        <!-- Footer -->
        <footer class="sticky-footer bg-white">
            <div class="container my-auto">
                <div class="copyright text-center my-auto">
                    <span>Copyright © 数管中心 2019</span>
                </div>
            </div>
        </footer>
        <!-- End of Footer -->

    </div>
    <!-- 右侧主体层结束 -->

</div>
{% endblock %}
{% block script %}
<script>
    // 通过type变量选择要获取的渲染内容
    function getContent(type) {
        $.ajax({
            type: 'GET',
            url: '/admin',
            data: { 'type': type },
            dataType: 'html',
            success: function (data) {
                $("#main").html(data);
            }
        });
    }
</script>
{% endblock %}